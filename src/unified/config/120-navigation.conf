# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# switch/iterate between workspaces
bindsym $mod+Tab workspace next
bindsym $mod+Shift+Tab workspace prev

# Focus right and left screens
bindsym $mod+n focus output right
# bindsym $mod+p focus output left

# switch to workspace - bring workspace to current screen
bindcode $mod+10       $exec_env $i3scripts/force_workspace_current_screen.sh 1
bindcode $mod+11       $exec_env $i3scripts/force_workspace_current_screen.sh 2
bindcode $mod+12       $exec_env $i3scripts/force_workspace_current_screen.sh 3
bindcode $mod+13       $exec_env $i3scripts/force_workspace_current_screen.sh 4
bindcode $mod+14       $exec_env $i3scripts/force_workspace_current_screen.sh 5
bindcode $mod+15       $exec_env $i3scripts/force_workspace_current_screen.sh 6
bindcode $mod+16       $exec_env $i3scripts/force_workspace_current_screen.sh 7
bindcode $mod+17       $exec_env $i3scripts/force_workspace_current_screen.sh 8
bindcode $mod+18       $exec_env $i3scripts/force_workspace_current_screen.sh 9

# move focused container to workspace
bindcode $mod+Shift+10 move container to workspace 1
bindcode $mod+Shift+11 move container to workspace 2
bindcode $mod+Shift+12 move container to workspace 3
bindcode $mod+Shift+13 move container to workspace 4
bindcode $mod+Shift+14 move container to workspace 5
bindcode $mod+Shift+15 move container to workspace 6
bindcode $mod+Shift+16 move container to workspace 7
bindcode $mod+Shift+17 move container to workspace 8
bindcode $mod+Shift+18 move container to workspace 9

bindsym $mod+Shift+q mode "rm_workspace"

# resize window
mode "rm_workspace" {
    # bindsym $mod+q $exec_env "swaymsg '[workspace=__focused__] kill'" , mode "default"
    bindsym $mod+q $exec_env $i3scripts/organise-desktop.sh , mode "default"

    bindsym 1 $exec_env "$msg '[workspace=1] kill'" , mode "default"
    bindsym 2 $exec_env "$msg '[workspace=2] kill'" , mode "default"
    bindsym 3 $exec_env "$msg '[workspace=3] kill'" , mode "default"
    bindsym 4 $exec_env "$msg '[workspace=4] kill'" , mode "default"
    bindsym 5 $exec_env "$msg '[workspace=5] kill'" , mode "default"
    bindsym 6 $exec_env "$msg '[workspace=6] kill'" , mode "default"
    bindsym 7 $exec_env "$msg '[workspace=7] kill'" , mode "default"
    bindsym 8 $exec_env "$msg '[workspace=8] kill'" , mode "default"
    bindsym 9 $exec_env "$msg '[workspace=9] kill'" , mode "default"

    # Exit mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Enter resize mode
bindsym $mod+r mode "resize"

# resize window
mode "resize" {
    # Resize with hjkl (vim-like)
    bindsym h resize grow width 5 px or 5 ppt
    bindsym j resize shrink height 5 px or 5 ppt
    bindsym k resize grow height 5 px or 5 ppt
    bindsym l resize shrink width 5 px or 5 ppt

    # Or use arrow keys
    bindsym Left resize grow width 5 px or 5 ppt
    bindsym Down resize shrink height 5 px or 5 ppt
    bindsym Up resize grow height 5 px or 5 ppt
    bindsym Right resize shrink width 5 px or 5 ppt

    # Exit resize mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"
}

# split in horizontal orientation
bindsym $mod+v split h
# split in vertical orientation
bindsym $mod+s split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle
# chrome doesn't seem to work with $mod+f
bindsym $mod+p fullscreen toggle

#NOTE: stacking is not useful. You can achieve the same thing with tabbed mode and there is a plugin to find window

# bindsym $mod+s layout stacking
bindsym $mod+a focus parent
bindsym $mod+Shift+a focus child

bindsym $mod+g layout tabbed
bindsym $mod+Shift+g [workspace=__focused__] layout tabbed
bindsym $mod+e layout toggle split

# Doesn't work well when switching to tabbed mode
# autotiling script
# https://github.com/nwg-piotr/autotiling
# `yay -S autotiling 
# $exec_env_always autotiling

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# open new empty workspace
# bindsym $mod+Shift+n $exec_env $i3scripts/empty_workspace.sh


